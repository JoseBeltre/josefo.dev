---
import Badge from '../Badge.astro';
import Tag from '../Tag.astro';
---

<section id="sobre-mi" class="px-6">
  <Badge>Sobre mÃ­</Badge>
  <h2 class="section-title">Â¿QuiÃ©n desarrolla tu producto?</h2>
  <p>
    <Tag tag='span' class="text-secondary font-medium">
      <span class="text-white">Â¡Hola ğŸ‘‹! Soy JosÃ©, desarrollador web de RepÃºblica Dominicana ğŸ‡©ğŸ‡´.</span>
    </Tag>
  </p>
  <p>
    <Tag tag='p' class="text-accent font-medium">
      <span class="text-white/80">Mi viaje en el mundo del desarrollo comenzÃ³ gracias a mi pasiÃ³n por los videojuegos y mi curiosidad por la tecnologÃ­a. En un principio soÃ±aba con crear mis propios juegos, pero fue al descubrir el desarrollo web cuando encontrÃ© mi verdadera pasiÃ³n: <span class="text-highlight">construir interfaces hermosas y experiencias de usuario memorables.</span></span> 
    </Tag>
  </p>
  <br>
  <div id="more-info-about" class="h-0 overflow-hidden transition-[height] duration-500">
    <p>
      <Tag tag='p' class="text-accent font-medium">
        <span class="text-white/80"><span class="text-highlight">Me encanta trabajar de la mano con mis clientes.</span> Creo que la mejor forma de ofrecer un servicio de calidad es entendiendo a fondo lo que la otra persona necesita, escuchando sus ideas, sus intereses y sus metas.</span>
      </Tag>
    </p>
    <br>
    <p>
      <Tag tag='p' class="text-accent font-medium">
        <span class="text-white/80">Me encantan los proyectos innovadores, donde puedo combinar lÃ³gica y diseÃ±o para construir algo Ãºnico. <span class="text-highlight">Aspiro a ser reconocido no solo por la calidad de mi trabajo, sino tambiÃ©n por la experiencia que ofrezco.</span></span>
      </Tag>
    </p>
  </div>
  <button id="read-more" class="text-end underline italic ms-auto w-auto block">Leer mÃ¡s...</button>
  <div class="mt-7 overflow-hidden rounded-2xl shadow-2xl">
    <img src="/jose-photo.webp" alt="Foto de frente de JosÃ©">
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const readMore = document.querySelector('#read-more') as HTMLElement
  const moreInfo = document.querySelector('#more-info-about') as HTMLElement
  console.log('ola banana')
  if (!readMore || !moreInfo) return

  readMore.addEventListener('click', () => {
    const isOpen = moreInfo.classList.contains('open')

    if (isOpen) {
      // Cerrar
      moreInfo.style.height = moreInfo.scrollHeight + 'px'
      requestAnimationFrame(() => {
        moreInfo.style.height = '0px'
        moreInfo.classList.remove('open')
      })
      readMore.innerHTML = 'Leer mÃ¡s...'
    } else {
      // Abrir
      moreInfo.classList.add('open')
      moreInfo.style.height = moreInfo.scrollHeight + 'px'
      readMore.innerHTML = 'Leer menos...'
      
      moreInfo.addEventListener('transitionend', () => {
        moreInfo.style.height = 'auto'
      }, { once: true })
    }
  })
})
</script>